{"ast":null,"code":"import Firebase from'../../config/firebase';import firebase from'firebase';import history from'history/createBrowserHistory';import useHistory from'react-router-dom';import{useStore}from'react-redux';import swal from'sweetalert';var set_data=function set_data(data){return function(dispatch){// console.log(data)\ndispatch({type:\"set_data\",payload:{name:'M'}});};};var facebook_login=function facebook_login(history){// console.log(\"facebook_login.......\")\nreturn function(dispatch){var provider=new firebase.auth.FacebookAuthProvider();// provider.setCustomParameters({\n//     'display': 'popup'\n//   });\nfirebase.auth().signInWithPopup(provider).then(function(result){// This gives you a Facebook Access Token. You can use it to access the Facebook API.\nvar token=result.credential.accessToken;// The signed-in user info.\nvar user=result.user;var create_user={name:user.displayName,email:user.email,profile:user.photoURL,uid:user.uid};firebase.database().ref('/').child(\"users/\".concat(user.uid)).set(create_user).then(function(){dispatch({type:\"SETUSER\",payload:create_user});swal({title:\"User Login Succesful!\",// text: \"You clicked the button!\",\nicon:\"success\"});// alert(\"user login Succesful!\",create_user.name);\n// history.push('/Addproduct')\n});// ...\n// console.log('user==ac=>',create_user)\n}).catch(function(error){// Handle Errors here.\nvar errorCode=error.code;var errorMessage=error.message;console.log(errorMessage);// The email of the user's account used.\nvar email=error.email;// The firebase.auth.AuthCredential type that was used.\nvar credential=error.credential;// ...\n});};};var get_users=function get_users(){return function(dispatch){var users=[];firebase.database().ref('/').child('users').on('child_added',function(data){users.push(data.val());// console.log(\"firebase.database==>\",data.val())\n// console.log(\"Z\",users)\ndispatch({type:\"SETFIERBASEUASERS\",payload:users});});};};export{set_data,facebook_login,get_users};","map":{"version":3,"sources":["C:/Users/Mudassir Mukhtar/Desktop/web/OLX-PK/src/store/action/index.jsx"],"names":["Firebase","firebase","history","useHistory","useStore","swal","set_data","data","dispatch","type","payload","name","facebook_login","provider","auth","FacebookAuthProvider","signInWithPopup","then","result","token","credential","accessToken","user","create_user","displayName","email","profile","photoURL","uid","database","ref","child","set","title","icon","catch","error","errorCode","code","errorMessage","message","console","log","get_users","users","on","push","val"],"mappings":"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","sourcesContent":["import Firebase from '../../config/firebase'\nimport firebase from 'firebase'\nimport history from 'history/createBrowserHistory'\nimport useHistory from 'react-router-dom'\nimport { useStore } from 'react-redux'\nimport swal from 'sweetalert';\nconst set_data = (data) => {\n    return (dispatch) => {\n        // console.log(data)\n        dispatch({ type: \"set_data\", payload: {name:'M'} })\n    }\n}\nconst facebook_login=(history)=>{\n            // console.log(\"facebook_login.......\")\n            return (dispatch) => {\n                   var provider = new firebase.auth.FacebookAuthProvider();\n                // provider.setCustomParameters({\n                //     'display': 'popup'\n                //   });\n                firebase.auth().signInWithPopup(provider)\n                   .then(function(result) {\n                    // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n                    var token = result.credential.accessToken;\n                    // The signed-in user info.\n                    var user = result.user;\n                    let create_user={\n                      name:user.displayName,\n                      email:user.email,\n                      profile:user.photoURL,\n                      uid:user.uid\n                    }\n                    firebase.database().ref('/').child(`users/${user.uid}`).set(create_user)\n                    .then(()=>{\n                      dispatch({type:\"SETUSER\",payload:create_user})\n                      swal({\n                        title: \"User Login Succesful!\",\n                        // text: \"You clicked the button!\",\n                        icon: \"success\",\n                      });\n                      // alert(\"user login Succesful!\",create_user.name);\n                      // history.push('/Addproduct')\n                    })\n                    // ...\n                    // console.log('user==ac=>',create_user)\n                  }).catch(function(error) {\n                    // Handle Errors here.\n                    var errorCode = error.code;\n                    var errorMessage = error.message;\n                    console.log(errorMessage)\n                    // The email of the user's account used.\n                    var email = error.email;\n                    // The firebase.auth.AuthCredential type that was used.\n                    var credential = error.credential;\n                    // ...\n                  });\n\n            }\n}\n\n\n\nconst get_users=()=>{\n  return (dispatch) => {\n    let users=[];\n    firebase.database().ref('/').child('users').on('child_added',(data)=>{\n      users.push(data.val())\n      // console.log(\"firebase.database==>\",data.val())\n      // console.log(\"Z\",users)\n      dispatch({type:\"SETFIERBASEUASERS\",payload:users })\n    })\n    }\n  }\nexport { \n    set_data,\n    facebook_login,\n    get_users\n }   "]},"metadata":{},"sourceType":"module"}