{"ast":null,"code":"import Firebase from '../../config/firebase';\nimport firebase from 'firebase';\nimport history from 'history/createBrowserHistory';\nimport useHistory from 'react-router-dom';\nimport { useStore } from 'react-redux';\n\nconst set_data = data => {\n  return dispatch => {\n    // console.log(data)\n    dispatch({\n      type: \"set_data\",\n      payload: {\n        name: 'M'\n      }\n    });\n  };\n};\n\nconst facebook_login = history => {\n  // console.log(\"facebook_login.......\")\n  return dispatch => {\n    var provider = new firebase.auth.FacebookAuthProvider(); // provider.setCustomParameters({\n    //     'display': 'popup'\n    //   });\n\n    firebase.auth().signInWithPopup(provider).then(function (result) {\n      // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n      var token = result.credential.accessToken; // The signed-in user info.\n\n      var user = result.user;\n      let create_user = {\n        name: user.displayName,\n        email: user.email,\n        profile: user.photoURL,\n        uid: user.uid\n      };\n      firebase.database().ref('/').child(`users/${user.uid}`).set(create_user).then(() => {\n        dispatch({\n          type: \"SETUSER\",\n          payload: create_user\n        });\n        swal({\n          title: \"User login Succesful!\",\n          text: \"You clicked the button!\",\n          icon: \"success\"\n        });\n        alert(\"user login Succesful!\", create_user.name); // history.push('/Addproduct')\n      }); // ...\n      // console.log('user==ac=>',create_user)\n    }).catch(function (error) {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      console.log(errorMessage); // The email of the user's account used.\n\n      var email = error.email; // The firebase.auth.AuthCredential type that was used.\n\n      var credential = error.credential; // ...\n    });\n  };\n};\n\nconst get_users = () => {\n  return dispatch => {\n    let users = [];\n    firebase.database().ref('/').child('users').on('child_added', data => {\n      users.push(data.val()); // console.log(\"firebase.database==>\",data.val())\n      // console.log(\"Z\",users)\n\n      dispatch({\n        type: \"SETFIERBASEUASERS\",\n        payload: users\n      });\n    });\n  };\n};\n\nexport { set_data, facebook_login, get_users };","map":{"version":3,"sources":["C:/Users/Administrator/Desktop/my-app/src/store/action/index.jsx"],"names":["Firebase","firebase","history","useHistory","useStore","set_data","data","dispatch","type","payload","name","facebook_login","provider","auth","FacebookAuthProvider","signInWithPopup","then","result","token","credential","accessToken","user","create_user","displayName","email","profile","photoURL","uid","database","ref","child","set","swal","title","text","icon","alert","catch","error","errorCode","code","errorMessage","message","console","log","get_users","users","on","push","val"],"mappings":"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","sourcesContent":["import Firebase from '../../config/firebase'\nimport firebase from 'firebase'\nimport history from 'history/createBrowserHistory'\nimport useHistory from 'react-router-dom'\nimport { useStore } from 'react-redux'\nconst set_data = (data) => {\n    return (dispatch) => {\n        // console.log(data)\n        dispatch({ type: \"set_data\", payload: {name:'M'} })\n    }\n}\nconst facebook_login=(history)=>{\n            // console.log(\"facebook_login.......\")\n            return (dispatch) => {\n                   var provider = new firebase.auth.FacebookAuthProvider();\n                // provider.setCustomParameters({\n                //     'display': 'popup'\n                //   });\n                firebase.auth().signInWithPopup(provider)\n                   .then(function(result) {\n                    // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n                    var token = result.credential.accessToken;\n                    // The signed-in user info.\n                    var user = result.user;\n                    let create_user={\n                      name:user.displayName,\n                      email:user.email,\n                      profile:user.photoURL,\n                      uid:user.uid\n                    }\n                    firebase.database().ref('/').child(`users/${user.uid}`).set(create_user)\n                    .then(()=>{\n                      dispatch({type:\"SETUSER\",payload:create_user})\n                      swal({\n                        title: \"User login Succesful!\",\n                        text: \"You clicked the button!\",\n                        icon: \"success\",\n                      });\n                      alert(\"user login Succesful!\",create_user.name);\n                      // history.push('/Addproduct')\n                    })\n                    // ...\n                    // console.log('user==ac=>',create_user)\n                  }).catch(function(error) {\n                    // Handle Errors here.\n                    var errorCode = error.code;\n                    var errorMessage = error.message;\n                    console.log(errorMessage)\n                    // The email of the user's account used.\n                    var email = error.email;\n                    // The firebase.auth.AuthCredential type that was used.\n                    var credential = error.credential;\n                    // ...\n                  });\n\n            }\n}\n\n\n\nconst get_users=()=>{\n  return (dispatch) => {\n    let users=[];\n    firebase.database().ref('/').child('users').on('child_added',(data)=>{\n      users.push(data.val())\n      // console.log(\"firebase.database==>\",data.val())\n      // console.log(\"Z\",users)\n      dispatch({type:\"SETFIERBASEUASERS\",payload:users })\n    })\n    }\n  }\nexport { \n    set_data,\n    facebook_login,\n    get_users\n }   "]},"metadata":{},"sourceType":"module"}